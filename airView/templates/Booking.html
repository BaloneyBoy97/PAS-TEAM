<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flight Booking</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <style>
    body {
      background-color: #f8f9fa;
    }

    .container {
      margin-top: 50px;
    }

    .airplane {
      width: 100%;
      max-width: 800px;
      /* Adjusted width for larger seating arrangement */
      margin: 0 auto;
      background-color: #f0f0f0;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .row {
      display: flex;
      justify-content: center;
      margin-bottom: 10px;
    }

    .seat {
      width: 40px;
      height: 40px;
      margin: 5px;
      text-align: center;
      line-height: 40px;
      border-radius: 5px;
      cursor: pointer;
      background-color: #28a745;
      color: white;
    }

    .aisle {
      width: 20px;
      height: 40px;
      margin: 5px;
      background-color: transparent;
      cursor: default;
    }

    .aisle-left {
      flex: 1;
      /* Take up space on the left side of aisle */
    }

    .aisle-right {
      flex: 1;
      /* Take up space on the right side of aisle */
    }

    .occupied {
      background-color: #6c757d;
      color: white;
      cursor: not-allowed;
    }

    .selected {
      background-color: #ffc107;
      color: white;
    }

    .class-container {
      margin-bottom: 20px;
      padding: 10px;
      background-color: #e9ecef;
      border-radius: 5px;
    }

    .class-title {
      font-weight: bold;
      margin-bottom: 10px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h2 class="text-center mb-5">Flight Booking</h2>

    <div class="airplane" id="airplane">
      <!-- Seat layout will be dynamically generated here -->
    </div>

    <div class="form-group mt-4">
      <label for="seatSelection">Select Your Seat</label>
    </div>

    <form id="bookingForm">
      <div class="form-group">
        <label for="passengerName">Passenger Name</label>
        <input type="text" class="form-control" id="passengerName" required />
      </div>
      <div class="form-group">
        <label for="selectedSeat">Selected Seat</label>
        <input type="text" class="form-control" id="selectedSeat" readonly />
      </div>
      <div class="form-group">
        <label for="baggage">Baggage Add-On</label>
        <p>
          The flight allows passengers to carry one check-in baggage (20kg) and one cabin baggage (7kg) without
          additional charges. Charges apply for any additional baggages. Prices are as follows:
        </p>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="20kg" id="baggage20" />
          <label class="form-check-label" for="baggage20"> 20kg - $30 </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="30kg" id="baggage30" />
          <label class="form-check-label" for="baggage30"> 30kg - $50 </label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="40kg" id="baggage40" />
          <label class="form-check-label" for="baggage40"> 40kg - $70 </label>
        </div>
      </div>
      <div class="form-group">
        <label for="termsConditions">Terms & Conditions</label>
        <textarea class="form-control" id="termsConditions" rows="5" readonly>
1. Passengers are required to carry valid identification at all times.
2. Baggage allowance is subject to additional charges as selected.
3. Changes to the booking may incur additional fees.
4. Refunds are subject to the airline's policy.
5. By booking, you agree to the airline's terms and conditions.
          </textarea>
        <div class="form-check mt-2">
          <input class="form-check-input" type="checkbox" id="agreeTerms" required />
          <label class="form-check-label" for="agreeTerms">
            I agree to the Terms & Conditions
          </label>
        </div>
      </div>
      <button type="submit" class="btn btn-primary btn-block">Book Now</button>
    </form>
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const airplane = document.getElementById("airplane");
      const columns = "ABCDEF"; // Assuming 6 seats per row
      const rows_per_class = {
        'First-Class': 6, 'Business': 6, 'Economy-Plus': 10, 'Economy': 24,
      };

      // Generate seats based on rows_per_class
      let seatId = 1;
      Object.keys(rows_per_class).forEach((classType) => {
        const classContainer = document.createElement("div");
        classContainer.className = "class-container";

        const classTitle = document.createElement("p");
        classTitle.className = "class-title";
        classTitle.textContent = classType;
        classContainer.appendChild(classTitle);

        for (let row = 1; row <= rows_per_class[classType]; row++) {
          const rowDiv = document.createElement("div");
          rowDiv.className = "row";

          // Add left aisle
          const aisleLeftDiv = document.createElement("div");
          aisleLeftDiv.className = "aisle aisle-left";
          rowDiv.appendChild(aisleLeftDiv);

          // Add seats on the left
          for (let col = 0; col < 3; col++) {
            const seatDiv = document.createElement("div");
            seatDiv.className = "seat";
            seatDiv.id = `${classType} ${row}${columns[col]}`;
            seatDiv.textContent = `${row}${columns[col]}`;
            rowDiv.appendChild(seatDiv);
          }

          // Add middle aisle
          const middleAisleDiv = document.createElement("div");
          middleAisleDiv.className = "aisle";
          rowDiv.appendChild(middleAisleDiv);

          // Add seats on the right
          for (let col = 3; col < 6; col++) {
            const seatDiv = document.createElement("div");
            seatDiv.className = "seat";
            seatDiv.id = `${classType} ${row}${columns[col]}`;
            seatDiv.textContent = `${row}${columns[col]}`;
            rowDiv.appendChild(seatDiv);
          }

          // Add right aisle
          const aisleRightDiv = document.createElement("div");
          aisleRightDiv.className = "aisle aisle-right";
          rowDiv.appendChild(aisleRightDiv);

          classContainer.appendChild(rowDiv);
        }

        airplane.appendChild(classContainer);
      });

      const seats = document.querySelectorAll(".seat");
      const selectedSeatInput = document.getElementById("selectedSeat");

      seats.forEach((seat) => {
        seat.addEventListener("click", function () {
          if (seat.classList.contains("occupied")) return;

          seats.forEach((s) => s.classList.remove("selected"));
          seat.classList.add("selected");
          const classAndSeat = seat.id;
          selectedSeatInput.value = classAndSeat;
        });
      });

      document
        .getElementById("bookingForm")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const selectedSeat = document.querySelector(".seat.selected");
          if (!selectedSeat) {
            alert("Please select a seat.");
            return;
          }
          const classAndSeat = selectedSeat.id;
          alert(
            `Booking Submitted Successfully!\nSelected Seat: ${classAndSeat}`
          );
        });
    });
  </script>
</body>

</html>